<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Diva ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  min-height:100vh;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: linear-gradient(135deg, #fde2e4, #fff);
  overflow:hidden;
}

/* Slideshow */
.slideshow{
  position:fixed;
  inset:0;
  z-index:1;
  display:none;
}
.slide{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  opacity:0;
  transition:opacity 2s ease-in-out;
  filter:brightness(.85);
}
.slide.active{ opacity:1; }

/* Card */
.card{
  position:relative;
  z-index:2;
  background:white;
  padding:30px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 15px 40px rgba(0,0,0,.15);
  width:min(420px, 92vw);
  margin:auto;
  top:50%;
  transform:translateY(-50%);
  transition:opacity 1.5s ease;
}

h1{ margin:0 0 10px; font-size:28px; }
p{ margin:0 0 20px; opacity:.85; }

.btns{ display:flex; gap:14px; justify-content:center; }

button{
  border:0;
  padding:12px 20px;
  border-radius:14px;
  font-size:16px;
  cursor:pointer;
  box-shadow:0 6px 16px rgba(0,0,0,.15);
}

#yes{ background:#ff4d6d; color:white; }
#no{ background:#f2f2f2; }

#msg{
  margin-top:18px;
  font-size:18px;
  font-weight:600;
  display:none;
}

/* Final line overlay (FIXED so it doesn't block clicks) */
.final-line{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  font-weight:600;
  color:white;
  text-align:center;
  opacity:0;
  transition:opacity 3s ease;
  z-index:3;
  text-shadow:0 4px 20px rgba(0,0,0,.6);
  padding:24px;
  pointer-events:none; /* IMPORTANT FIX */
}

/* Hearts */
.heart{
  position:fixed;
  font-size:20px;
  animation: floatUp 3s ease forwards;
  pointer-events:none;
  z-index:4;
}

@keyframes floatUp{
  from{ transform:translateY(0) scale(1); opacity:1; }
  to{ transform:translateY(-160px) scale(1.4); opacity:0; }
}
</style>
</head>

<body>

<div class="slideshow" id="slideshow">
  <div class="slide" style="background-image:url('img1.jpg')"></div>
  <div class="slide" style="background-image:url('img2.jpg')"></div>
  <div class="slide" style="background-image:url('img3.jpg')"></div>
  <div class="slide" style="background-image:url('img4.jpg')"></div>
  <div class="slide" style="background-image:url('img5.jpg')"></div>
</div>

<audio id="music" src="song.mp3"></audio>

<div class="card" id="card">
  <h1>Diva ‚ù§Ô∏è</h1>
  <p>After 2 beautiful years‚Ä¶ will you be my Valentine?</p>

  <div class="btns">
    <button id="yes">Yes, always üíò</button>
    <button id="no">No üòÖ</button>
  </div>

  <div id="msg"></div>
</div>

<div class="final-line" id="finalLine">
  Year 3 with Diva‚Ä¶ here we go. ‚ù§Ô∏è
</div>

<script>
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const msg = document.getElementById("msg");
const music = document.getElementById("music");
const slideshow = document.getElementById("slideshow");
const slides = document.querySelectorAll(".slide");
const card = document.getElementById("card");
const finalLine = document.getElementById("finalLine");

/* No button runs away */
noBtn.addEventListener("mouseenter", () => {
  const pad = 20;
  const maxX = window.innerWidth - noBtn.offsetWidth - pad;
  const maxY = window.innerHeight - noBtn.offsetHeight - pad;
  noBtn.style.position = "fixed";
  noBtn.style.left = Math.random() * maxX + "px";
  noBtn.style.top  = Math.random() * maxY + "px";
});

/* Yes click */
yesBtn.addEventListener("click", () => {

  slideshow.style.display = "block";

  music.volume = 0;
  music.play();

  let vol = 0;
  const fade = setInterval(() => {
    if(vol < 0.8){
      vol += 0.05;
      music.volume = vol;
    } else {
      clearInterval(fade);
    }
  }, 300);

  let i = 0;
  slides[i].classList.add("active");

  setInterval(() => {
    slides[i].classList.remove("active");
    i = (i + 1) % slides.length;
    slides[i].classList.add("active");
  }, 4000);

  msg.style.display = "block";
  msg.textContent = "I choose you. Today. Tomorrow. Always. üíû";

  noBtn.style.display = "none";
  yesBtn.textContent = "Forever ‚ôæÔ∏è";

  setTimeout(() => {
    card.style.opacity = "0";
  }, 2500);

  setTimeout(() => {
    finalLine.style.opacity = "1";
  }, 5000);

  popHearts();
});

function popHearts(){
  for(let i=0;i<25;i++){
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = ["‚ù§Ô∏è","üíñ","üíò","üíï"][Math.floor(Math.random()*4)];
    h.style.left = Math.random()*100 + "%";
    h.style.top = "70%";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(), 3000);
  }
}
</script>

</body>
</html>

